<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="icon" type="image/x-icon" href="/NASA/favicon.ico" sizes="any" />
    <link rel="icon" type="image/svg+xml" href="/NASA/favicon.svg" />
    <title>Near-Earth Objects Dashboard • NASA Open APIs Visualization Hub</title>
  </head>
  <body>
    <header>
      <h1>NASA Near-Earth Objects Dashboard</h1>
      <p class="tagline">Live data via Cloudflare Worker proxy</p>
      <p class="meta"><a href="index.html">Back to home</a></p>
    </header>
    <main>
      <section id="neo-page">
        <header class="subhead">
          <h2>Near-Earth Objects</h2>
          <p class="meta">Live data from NASA NeoWs via Worker</p>
        </header>

        <form id="neo-controls" class="controls" aria-label="NEO filters">
          <label>Start <input type="date" id="neo-start" required></label>
          <label>End <input type="date" id="neo-end" required></label>
          <label><input type="checkbox" id="neo-hazard"> Hazardous only</label>
          <label>
            Sort
            <select id="neo-sort">
              <option value="date">Date</option>
              <option value="miss_ld">Miss distance (LD)</option>
              <option value="vel_kps">Velocity (km/s)</option>
              <option value="dia_km">Diameter (km)</option>
            </select>
          </label>
          <button id="neo-load" type="submit">Load</button>
        </form>

        <div id="neo-viz-wrap">
          <div id="neo-timeline" role="img" aria-label="NEO timeline scatter"></div>
          <div id="neo-hist" role="img" aria-label="NEO size histogram"></div>
        </div>

        <section id="neo-3d">
          <header class="subhead">
            <h2>NEO 3D</h2>
            <p class="meta">Heliocentric ecliptic J2000 • positions from orbital elements</p>
          </header>
          <div id="neo3d-host" style="height:520px;border:1px solid var(--light);border-radius:8px;"></div>
          <div class="controls" style="margin-top:.5rem;display:flex;flex-wrap:wrap;gap:.75rem;align-items:flex-end;">
            <div style="display:flex;gap:.5rem;">
              <button id="neo3d-play" type="button">Play</button>
              <button id="neo3d-pause" type="button" disabled>Pause</button>
            </div>
            <label style="display:flex;flex-direction:column;min-width:160px;">
              Speed
              <input type="range" id="neo3d-speed" min="0" max="4" step="1" value="4" />
            </label>
            <span id="neo3d-speed-label" class="meta" style="min-width:10ch;">1 day/s</span>
            <label style="display:flex;align-items:center;gap:.35rem;">
              <input type="checkbox" id="neo3d-toggle-neos" checked />
              Show NEOs
            </label>
            <label style="display:flex;flex-direction:column;min-width:260px;">
              Date range
              <div style="display:flex;gap:.5rem;flex-wrap:wrap;">
                <input type="datetime-local" id="neo3d-range-start" step="3600" />
                <input type="datetime-local" id="neo3d-range-end" step="3600" />
              </div>
            </label>
            <label style="display:flex;flex-direction:column;min-width:220px;">
              Offset within range (days)
              <input type="range" id="neo3d-time" min="0" max="120" step="0.0416667" value="60" />
            </label>
            <span id="neo3d-time-label" class="meta" style="min-width:16ch;">—</span>
          </div>
        </section>

        <div id="neo-list-wrap">
          <ul id="neo-list" aria-live="polite"></ul>
          <nav id="neo-pager">
            <button id="neo-prev" disabled>Prev</button>
            <span id="neo-page-info"></span>
            <button id="neo-next" disabled>Next</button>
          </nav>
        </div>
      </section>
    </main>
    <footer>
      <p><a href="https://api.nasa.gov/">api.nasa.gov</a></p>
    </footer>
    <script type="module" src="/NASA/src/main.ts"></script>
  </body>
</html>
